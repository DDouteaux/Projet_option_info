%%
%
%	Configurations pour les slides générales
%
%	--------------------
%	Distribué sous license GNU-Linux
%
%	This program is free software: you can redistribute it and/or modify
%   it under the terms of the GNU General Public License as published by
%   the Free Software Foundation, either version 3 of the License, or
%   (at your option) any later version.
%   This program is distributed in the hope that it will be useful,
%   but WITHOUT ANY WARRANTY; without even the implied warranty of
%   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
%   GNU General Public License for more details.
%   You should have received a copy of the GNU General Public License
%   along with this program.  If not, see <http://www.gnu.org/licenses/>.
%
%%

\mode<presentation>

% Définition de la taille de la sidebar
\newlength{\sidebarwidth}
\setlength{\sidebarwidth}{2cm}

% Définition du contenu de la sidebar.
%
% /!\ Nécessité d'avoir le fichier images/theme/logopng qui est le logo de l'organisme.
\useoutertheme[width=2cm, height=0cm]{sidebar}%
\setbeamertemplate{sidebar left}{%
	\begin{tikzpicture}
		\fill [themeColor] (0,0) rectangle (\sidebarwidth,-.94);
		\fill [themeColor] (0,-1.44) rectangle (\sidebarwidth,-\paperwidth);
		\node [anchor=north west] (salut) at (0,-1.44) {\hspace{-.05cm}\insertverticalnavigation{\beamer@sidebarwidth}};
		\node [anchor=south west] at (0,-{\paperheight+1.44}) {\hspace*{-.1cm}\includegraphics[width=2cm]{images/theme/logopng}};
	\end{tikzpicture}
}

% Définition de la barre de titre.
% On distingue le cas avec et sans sous-titre. Attention, si le texte est trop long on
% ne verra pas tout, donc être raisonnable sur la longueur des titres.
\defbeamertemplate*{frametitle}{texsx}[1][] {%
	\begin{beamercolorbox}[wd=\paperwidth,ht=1.4cm]{frametitle} 
	    \begin{tikzpicture}
	      	\useasboundingbox[fill=white](0,0) rectangle(\the\paperwidth,1.4);
	        \fill[themeColor] (0,0) rectangle (\the\paperwidth,.5);
		  	\ifx\insertframesubtitle\@empty%
	       		{
	       			\node[anchor=west, themeColor, minimum width={\the\paperwidth-2cm}] at (0,1) {\textsc{\MakeLowercase{\protect\insertframetitle}}};
	   			}
	     	\else%
		       	{
		       		\node[anchor= west, themeColor, minimum width={\the\paperwidth-2cm}] at (0,1) {\textsc{\MakeLowercase{\protect\insertframetitle}}~~{\small\insertframesubtitle}};%
	          	}%
	        \fi
	  	\end{tikzpicture}
	\end{beamercolorbox}
}

% Définition de la ligne de note de base de page.
% Cette ligne contient la date ainsi que le numéro de slide.
\setbeamertemplate{footline}[text line]{%
	\begin{beamercolorbox}[wd=\the\paperwidth, ht=2.5ex, dp=2ex, rightskip=.5cm]{white}
		\textcolor{gris!50!black}{\scriptsize\textit{\hfill\hfill\insertdate\hfill\insertframenumber\hspace{2cm}}}
	\end{beamercolorbox}
}

% Pour masquer cet élément
\setbeamertemplate{headline}{}

% Les marges de la partie interne des slides pour le texte
\setbeamersize{text margin left=.5cm,text margin right=.5cm}

\mode<all>